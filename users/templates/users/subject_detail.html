{% extends 'my_app/base.html' %}
{% load crispy_forms_tags %}
{% block content %}

<h1>{{ subject.subject_name }}</h1>
<div class="content-section">
    <h2>Uploaded Files</h2>
    {% if docs %}
    <table>
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Date Uploaded</th>
        </tr>
        {% for doc in docs %}
        <tr>
            <td><a href="{{ doc.doc.url }}">{{ doc.title }}</a></td>
            <td>{{ doc.description }}</td>
            <td>{{ doc.uploaded_at|date:"F d, Y" }}</td>
        {% endfor %}
        </table>
    {% else %}
    <h3>No Documents!</h3>
    {% endif %}
</div>
<div class="content-section">

    <form method="POST" enctype = "multipart/form-data">
        {% csrf_token %}
        <fieldset class = "form-group">
            <legend class ="border-bottom mb-4">Upload Document</legend>
            {{ form|crispy }}
        </fieldset>
        <div class = "form-group">
            <button class = "btn btn-outline-info" type = "submit">Upload</button>
        </div>
    </form>
</div>
{% endblock content %}